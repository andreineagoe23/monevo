@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--bg-color, #f8fafc);
  color: var(--text-color, #111827);
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
    monospace;
}

/* Ensure navbar is always on top and clickable */
.app-container {
  position: relative;
}

.app-layout,
.content {
  position: relative;
  z-index: 1;
}

/* Custom styled scrollbar - neutral gray for user progress box */
.scrollbar-neutral {
  scrollbar-width: thin;
  scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
}

.scrollbar-neutral::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-neutral::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 10px;
}

.scrollbar-neutral::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.3);
  border-radius: 10px;
  transition: background 0.2s ease;
}

.scrollbar-neutral::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.5);
}

/* CKEditor 5 Dark Mode Support */
/* Container wrapper styling - ensure it respects dark mode */
.ckeditor-wrapper {
  background-color: var(--card-bg, #ffffff);
  border: 1px solid var(--border-color, #d1d5db);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* Ensure dark mode applies to container */
html[data-theme="dark"] .ckeditor-wrapper,
[data-theme="dark"] .ckeditor-wrapper {
  background-color: var(--card-bg) !important;
  border-color: var(--border-color) !important;
}

/* CKEditor editor styling - CSS Variables are inherited from :root when data-theme="dark" */
html[data-theme="dark"] .ck.ck-editor,
[data-theme="dark"] .ck.ck-editor {
  background-color: transparent;
}

html[data-theme="dark"] .ck.ck-editor__editable,
[data-theme="dark"] .ck.ck-editor__editable {
  background-color: var(--card-bg, #1e1e1e) !important;
  color: var(--text-color, #e0e0e0) !important;
}

html[data-theme="dark"] .ck.ck-toolbar,
[data-theme="dark"] .ck.ck-toolbar {
  background-color: var(--card-bg, #1e1e1e) !important;
  border-color: var(--border-color, rgba(255, 215, 0, 0.15)) !important;
}

html[data-theme="dark"] .ck.ck-button,
[data-theme="dark"] .ck.ck-button {
  color: var(--text-color, #e0e0e0) !important;
}

html[data-theme="dark"] .ck.ck-button:not(.ck-disabled):hover,
[data-theme="dark"] .ck.ck-button:not(.ck-disabled):hover {
  background-color: var(
    --ck-color-button-default-hover-background,
    #1b1b1b
  ) !important;
}

html[data-theme="dark"] .ck.ck-dropdown__panel,
[data-theme="dark"] .ck.ck-dropdown__panel {
  background-color: var(
    --ck-color-dropdown-panel-background,
    #212121
  ) !important;
  border-color: var(--border-color, rgba(255, 215, 0, 0.15)) !important;
}

html[data-theme="dark"] .ck.ck-input,
[data-theme="dark"] .ck.ck-input {
  background-color: var(--input-bg, rgba(0, 0, 0, 0.25)) !important;
  border-color: var(--border-color, rgba(255, 215, 0, 0.15)) !important;
  color: var(--text-color, #e0e0e0) !important;
}

html[data-theme="dark"] .ck.ck-list,
[data-theme="dark"] .ck.ck-list {
  background-color: var(--card-bg, #1e1e1e) !important;
}

html[data-theme="dark"] .ck.ck-list__item .ck-button,
[data-theme="dark"] .ck.ck-list__item .ck-button {
  color: var(--text-color, #e0e0e0) !important;
}

html[data-theme="dark"] .ck.ck-list__item .ck-button:hover,
[data-theme="dark"] .ck.ck-list__item .ck-button:hover {
  background-color: rgba(0, 0, 0, 0.25) !important;
}

/* ---------------------------------------------
   Landing / Welcome page (animated dark backdrop)
   --------------------------------------------- */
.landing-theme {
  /* Brand palette */
  --primary: #1d5330; /* Dark Forest Green */
  --primary-rgb: 29, 83, 48;
  --gold: #e6c87a; /* Soft Gold / Warm Accent */
  --gold-rgb: 230, 200, 122;

  /* Surfaces */
  --bg-color: #0b0f14; /* Dark Charcoal / Near-Black */
  --landing-bg-rgb: 11, 15, 20;
  --text-color: #e5e7eb;
  --muted-text: rgba(229, 231, 235, 0.72);
  --accent: #e5e7eb;
  --card-bg: #111827;
  --input-bg: #111827;
  --border-color: rgba(255, 255, 255, 0.12);
  --shadow-color: rgba(0, 0, 0, 0.55);
}

.landing-shell {
  position: relative;
  isolation: isolate;
}

.landing-animated-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  transform: translate3d(
      var(--landing-parallax-x, 0px),
      var(--landing-parallax-y, 0px),
      0
    )
    scale(1.03);
  transform-origin: center;
  will-change: transform;
  background: radial-gradient(
      900px circle at 18% 10%,
      rgba(var(--primary-rgb, 29, 83, 48), 0.46),
      transparent 60%
    ),
    radial-gradient(
      760px circle at 82% 18%,
      rgba(var(--gold-rgb, 230, 200, 122), 0.16),
      transparent 62%
    ),
    radial-gradient(
      920px circle at 50% 92%,
      rgba(var(--primary-rgb, 29, 83, 48), 0.18),
      transparent 65%
    ),
    linear-gradient(
      180deg,
      var(--bg-color, #0b0f14) 0%,
      var(--card-bg, #111827) 55%,
      var(--bg-color, #0b0f14) 100%
    );
  /* Keep bubbles only: remove "breathing" background animations. */
  background-size: 100% 100%;
  animation: none;
}

.landing-animated-bg::before {
  /*
    Disabled: this drifting dot-grid can alias into "moving horizontal lines"
    on some displays. Keep the bubble gradients instead.
  */
  content: none;
  display: none;
}

.landing-animated-bg::after {
  /* Disabled: glow pulse reads as a "breathing" effect behind glass panels. */
  content: none;
  display: none;
}

@keyframes landingGradientShift {
  0% {
    background-position: 0% 0%;
  }
  50% {
    background-position: 100% 100%;
  }
  100% {
    background-position: 0% 0%;
  }
}

@keyframes landingGridDrift {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(-44px, 44px, 0);
  }
}

@keyframes landingGlowPulse {
  0%,
  100% {
    opacity: 0.14;
  }
  50% {
    opacity: 0.22;
  }
}

/* ---------------------------------------------
   Landing reviews marquee (infinite horizontal)
   --------------------------------------------- */
.landing-review-marquee {
  position: relative;
  overflow: hidden;
  padding: 6px 0;
}

.landing-review-marquee::before,
.landing-review-marquee::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  width: 72px;
  z-index: 2;
  pointer-events: none;
}

.landing-review-marquee::before {
  left: 0;
  background: linear-gradient(
    90deg,
    rgba(var(--landing-bg-rgb, 11, 15, 20), 1) 0%,
    rgba(var(--landing-bg-rgb, 11, 15, 20), 0) 100%
  );
}

.landing-review-marquee::after {
  right: 0;
  background: linear-gradient(
    270deg,
    rgba(var(--landing-bg-rgb, 11, 15, 20), 1) 0%,
    rgba(var(--landing-bg-rgb, 11, 15, 20), 0) 100%
  );
}

.landing-review-track {
  display: flex;
  width: max-content;
  gap: 16px;
  will-change: transform;
  transform: translate3d(0, 0, 0);
  animation: landingReviewMarquee var(--landing-review-duration, 42s) linear
    infinite;
}

.landing-review-card {
  width: min(360px, 86vw);
  flex: 0 0 auto;
  cursor: default;
}

/* Pause on hover/click (active) and keyboard focus */
.landing-review-marquee:hover .landing-review-track,
.landing-review-marquee:active .landing-review-track,
.landing-review-marquee:focus-within .landing-review-track {
  animation-play-state: paused;
}

@keyframes landingReviewMarquee {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    transform: translate3d(-50%, 0, 0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .landing-review-track {
    animation: none;
    transform: none;
  }
  .landing-review-marquee::before,
  .landing-review-marquee::after {
    display: none;
  }
}
