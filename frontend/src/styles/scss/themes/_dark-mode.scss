// Dark Theme Variables
[data-theme="dark"] {
  // Updated color variables
  --bg-color: #121212;
  --text-color: #ffffff;
  --card-bg: #1e1e1e;
  --input-bg: #2d2d2d;
  --border-color: #404040;
  --secondary: #ffd700;
  --primary: #1d5330;
  --accent: #ffd700;

  // Base text colors
  body {
    background-color: var(--bg-color);
    color: var(--text-color);

    p {
      color: var(--text-color) !important;
    }

    strong {
      color: var(--text-color) !important;
    }
  }

  // Text utilities
  .text-dark {
    color: var(--text-color) !important;
  }
  
  .text-secondary {
    color: var(--secondary) !important;
  }

  .text-muted {
    color: #909090 !important;
  }

  // Specific component fixes
  .progress-title {
    color: var(--text-color) !important;
  }

  .stat-box {
    h4.text-secondary {
      color: var(--secondary) !important;
    }
  }

  // Bootstrap component overrides
  .btn-secondary {
    background-color: var(--secondary);
    border-color: var(--secondary);
    color: var(--dark);

    &:hover {
      background-color: #e6c300;
      border-color: #e6c300;
    }
  }

  .btn-primary {
    background-color: var(--primary);
    border-color: var(--primary);
    &:hover {
      background-color: darken(#1d5330, 10%);
    }
  }

  .badge.bg-secondary {
    background-color: var(--secondary) !important;
    color: #000;
  }

  // Form elements
  .form-control,
  .form-select {
    background-color: var(--input-bg);
    border-color: var(--border-color);
    color: var(--text-color);
    
    &:focus {
      background-color: var(--input-bg);
      color: var(--text-color);
    }

    &::placeholder {
      color: #7a7a7a;
    }
  }

  // Navigation
  .navbar, .sidebar {
    background-color: var(--card-bg);
    border-color: var(--border-color);
    --text-color: #ffffff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  // Profile page specific
  .profile-container {
    .stat-box {
      background: rgba(255, 215, 0, 0.1);
    }

    .badge-card {
      background: #2d2d2d;
    }

    .recent-activity {
      .list-group-item {
        background: rgba(#ffffff, 0.05);
      }
    }
  }

  // Table adjustments
  .table {
    --bs-table-color: var(--text-color);
    --bs-table-bg: var(--card-bg);
    --bs-table-border-color: var(--border-color);
    --bs-table-striped-bg: rgba(255, 215, 0, 0.05);
    
    tbody {
      border-color: var(--border-color);
    }
  }

  // Modal enhancements
  .modal-content {
    background-color: var(--card-bg);
    color: var(--text-color);
    border-color: var(--border-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  }

  .border {
    border-color: var(--border-color) !important;
  }

  .dropdown-menu {
    background-color: var(--card-bg);
    border-color: var(--border-color);
  }

  .dropdown-item {
    color: var(--text-color);
    
    &:hover, &:focus {
      background-color: rgba(255, 255, 255, 0.1);
    }
  }

  // Custom components
  .settings-card, 
  .dashboard-card,
  .user-progress-box {
    background-color: var(--card-bg);
    border-color: var(--border-color);
  }

  // Avatar selector
  .avatar-selector__trigger {
    background-color: var(--secondary) !important;
    color: #000 !important;
  }

  .form-check-label,
  .form-label {
    color: var(--text-color) !important;
    
    strong {
      color: inherit !important;
    }
  }

  .form-check-input:checked ~ .form-check-label {
    color: var(--text-color);
  }

  // Ensure all text elements
  h1, h2, h3, h4, h5, h6,
  .h1, .h2, .h3, .h4, .h5, .h6 {
    color: var(--text-color);
  }
}